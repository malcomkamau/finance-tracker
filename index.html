<!DOCTYPE html>
<html>
  <head>
    <title>Finance Tracker</title>
    <link rel="stylesheet" href="style.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- jsPDF and AutoTable -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <!-- SheetJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  </head>
  <body>
    <h2>Add Transaction</h2>
    <form id="transactionForm">
      <input type="date" name="Date" required /><br />
      <input type="text" name="Item Name" placeholder="Item Name" required /><br />
      <input type="text" name="Category" placeholder="Category" required /><br />
      <input type="number" name="Quantity" placeholder="Quantity" required /><br />
      <input type="number" name="Price Per Unit" placeholder="Price Per Unit" step="0.01" required /><br />
      <input type="text" name="Vendor" placeholder="Vendor" /><br />
      <input type="text" name="Payment Method" placeholder="Payment Method" /><br />
      <input type="text" name="Notes" placeholder="Notes" /><br />
      <button type="submit">Submit</button>
    </form>

    <h3>Filter Transactions</h3>
    <div id="filters">
      <input type="text" id="searchText" placeholder="Search by item/vendor/category" />
      <input type="date" id="startDate" />
      <input type="date" id="endDate" />
      <select id="categoryFilter">
        <option value="">All Categories</option>
        <!-- Dynamically filled -->
      </select>
      <select id="paymentMethodFilter">
        <option value="">All Payment Methods</option>
        <!-- Dynamically filled -->
      </select>
      <button onclick="applyFilters()">Apply Filters</button>
      <button onclick="resetFilters()">Reset</button>
    </div>

    <h3>Spending by Category</h3>
    <canvas id="categoryChart"></canvas>

    <h3>Spending Over Time</h3>
    <canvas id="timeChart"></canvas>

    <h3>Export Options</h3>
    <label><input type="checkbox" id="exportFiltered" checked /> Export Filtered Data Only</label><br />
    <button onclick="exportToCSV()">Export CSV</button>
    <button onclick="exportToExcel()">Export Excel</button>
    <button onclick="exportToPDF()">Export PDF</button>

    <h2>Transaction List</h2>
    <table id="transactionTable">
      <thead></thead>
      <tbody></tbody>
      <tfoot></tfoot>
    </table>

    <script src="./main.js"></script>
  </body>
</html>
